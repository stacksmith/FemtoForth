cd io
U32 HIN
0 into HIN
U32 HOUT
1 into HOUT
// ---
: emit (c--)
{  HOUT putc ; }
: key (--n)
{ HIN getc ; }

: hexd (hexd--ascii) convert a hex digit to ascii
{ 
  $F and '0' +
  if( $39 over < ) 
    7 + 
  thanx ; 
}


: hexp (val,nybcnt--)
{
  times (
    28 ror
    dup hexd emit
  )
  drop ;
}
: . (val--)
{
  8 hexp ;
}
  

: ctell (ptr,cnt--)
{ times (
    c@++ emit
  )
  drop ;
}
: cr
{ $D emit $A emit ; }

: tab
{ 9 emit ; }

// ============================================ 
: color (col--)
{  $1B emit
   "[0;3" ctell
   '0' + emit // output as ascii digit
   'm' emit
   ;
}
cd color
: red
{ 1 color ; }
: green
{ 2 color ; }
: yellow
{ 3 color ; }
: blue
{ 4 color ; }
: magenta
{ 4 color ; }
: cyan
{ 6 color ; }
: white
{ 7 color ; }

cd io
: splashp
{ color'blue 4 times (
  "-+|+-- -- - - -- -" ctell
  ) cr ;
}

: splash
{ splashp 
  tab tab color'yellow " FemtoForth" ctell 
  tab tab color'cyan "2012 Victor Yurkovsky" ctell cr 
  splashp color'white cr ; }

